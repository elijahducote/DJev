(()=>{var Y=Object.defineProperty;var n=(t,e)=>Y(t,"name",{value:e,configurable:!0});var l=Object.getPrototypeOf,b,k,f,w,V={isConnected:1},F=1e3,A,G={},H=l(V),D=l(l),u,$=n((t,e,s,a)=>(t??(setTimeout(s,a),new Set)).add(e),"addAndScheduleOnFirst"),N=n((t,e,s)=>{let a=f;f=e;try{return t(s)}catch(o){return console.error(o),s}finally{f=a}},"runAndCaptureDeps"),_=n(t=>t.filter(e=>e._dom?.isConnected),"keepConnected"),R=n(t=>A=$(A,t,()=>{for(let e of A)e._bindings=_(e._bindings),e._listeners=_(e._listeners);A=u},F),"addStatesToGc"),v={get val(){return f?._getters?.add(this),this.rawVal},get oldVal(){return f?._getters?.add(this),this._oldVal},set val(t){f?._setters?.add(this),t!==this.rawVal&&(this.rawVal=t,this._bindings.length+this._listeners.length?(k?.add(this),b=$(b,this,Q)):this._oldVal=t)}},q=n(t=>({__proto__:v,rawVal:t,_oldVal:t,_bindings:[],_listeners:[]}),"state"),y=n((t,e)=>{let s={_getters:new Set,_setters:new Set},a={f:t},o=w;w=[];let r=N(t,s,e);r=(r??document).nodeType?r:new Text(r);for(let i of s._getters)s._setters.has(i)||(R(i),i._bindings.push(a));for(let i of w)i._dom=r;return w=o,a._dom=r},"bind"),L=n((t,e=q(),s)=>{let a={_getters:new Set,_setters:new Set},o={f:t,s:e};o._dom=s??w?.push(o)??V,e.val=N(t,a,e.rawVal);for(let r of a._getters)a._setters.has(r)||(R(r),r._listeners.push(o));return e},"derive"),M=n((t,...e)=>{for(let s of e.flat(1/0)){let a=l(s??0),o=a===v?y(()=>s.val):a===D?y(s):s;o!=u&&t.append(o)}return t},"add"),B=n((t,e,...s)=>{let[a,...o]=l(s[0]??0)===H?s:[{},...s],r=t?document.createElementNS(t,e):document.createElement(e);for(let[i,m]of Object.entries(a)){let E=n(g=>g?Object.getOwnPropertyDescriptor(g,i)??E(l(g)):u,"getPropDescriptor"),z=e+","+i,I=G[z]??=E(l(r))?.set??0,T=i.startsWith("on")?(g,K)=>{let j=i.slice(2);r.removeEventListener(j,K),r.addEventListener(j,g)}:I?I.bind(r):r.setAttribute.bind(r,i),x=l(m??0);i.startsWith("on")||x===D&&(m=L(m),x=v),x===v?y(()=>(T(m.val,m._oldVal),r)):T(m)}return M(r,o)},"tag"),J=n(t=>({get:n((e,s)=>B.bind(u,t,s),"get")}),"handler"),U=n((t,e)=>e?e!==t&&t.replaceWith(e):t.remove(),"update"),Q=n(()=>{let t=0,e=[...b].filter(a=>a.rawVal!==a._oldVal);do{k=new Set;for(let a of new Set(e.flatMap(o=>o._listeners=_(o._listeners))))L(a.f,a.s,a._dom),a._dom=u}while(++t<100&&(e=[...k]).length);let s=[...b].filter(a=>a.rawVal!==a._oldVal);b=u;for(let a of new Set(s.flatMap(o=>o._bindings=_(o._bindings))))U(a._dom,y(a.f,a._dom)),a._dom=u;for(let a of s)a._oldVal=a.rawVal},"updateDoms"),W={tags:new Proxy(t=>new Proxy(B,J(t)),J()),hydrate:n((t,e)=>U(t,y(e,t)),"hydrate"),add:M,state:q,derive:L};function h(t,e,s){let a=[];if(s&&(a[0]=s),e||(e="span"),Array.isArray(t)){let o=t.length,r=o;for(;o;--o)a.push(t[r-o])}else a.push(t);return W.tags[e].apply(null,a)}n(h,"htm");function X(t){if(window._hCaptchaOnLoadPromise)return window._hCaptchaOnLoadPromise;if(window.hcaptcha)return console.warn("[@hcaptcha/vanilla-hcaptcha]: hCaptcha JS API detected to be externally loaded. Unless you know what are you doing, this task should be delegated to this web component."),window._hCaptchaOnLoadPromise=Promise.resolve(),window._hCaptchaOnLoadPromise;{let e,s;window._hCaptchaOnLoadPromise=new Promise((r,i)=>{e=r,s=i,window._hCaptchaOnLoad=e});let a=function(r){let i=r.jsapi;return i=d(i,"render","explicit"),i=d(i,"onload","_hCaptchaOnLoad"),i=d(i,"recaptchacompat",r.recaptchacompat==="false"?"off":void 0),i=d(i,"host",r.host),i=d(i,"hl",r.hl),i=d(i,"sentry",r.sentry==="false"?"false":"true"),i=d(i,"endpoint",r.endpoint),i=d(i,"assethost",r.assethost),i=d(i,"imghost",r.imghost),i=d(i,"reportapi",r.reportapi),i}(t),o=document.createElement("script");return o.src=a,o.async=!0,o.defer=!0,o.onerror=r=>{let i=`Failed to load hCaptcha JS API: "${a}"`;console.error(i,r),s(i)},document.head.appendChild(o),window._hCaptchaOnLoadPromise}}n(X,"t");function d(t,e,s){if(s!=null){let a=t.includes("?")?"&":"?";return t+a+e+"="+encodeURIComponent(s)}return t}n(d,"e");var P="[@hcaptcha/vanilla-hcaptcha]:",C=class C extends Error{constructor(e){super(`${P}: ${e}`),Object.setPrototypeOf(this,C.prototype)}};n(C,"i");var c=C,p={notRendered:'hCaptcha was not yet rendered. Please call "render()" first.',apiNotLoaded:n(t=>`hCaptcha JS API was not loaded yet. Please wait for \`loaded\` event to safely call "${t}".`,"apiNotLoaded")},S=class S extends HTMLElement{constructor(){super(...arguments),this.hcaptchaId=void 0,this.loadJsApiTimeout=void 0,this.jsApiLoaded=!1}connectedCallback(){this.tryLoadingJsApi()}disconnectedCallback(){this.loadJsApiTimeout&&clearTimeout(this.loadJsApiTimeout)}static get observedAttributes(){return["jsapi","host","endpoint","reportapi","assethost","imghost","hl","sentry","recaptchacompat"]}attributeChangedCallback(){this.tryLoadingJsApi()}isJsApiConfigValid(e){let s=!["jsapi","host","endpoint","reportapi","assethost","imghost"].some(a=>{var o;return e[a]&&!(!((o=e[a])===null||o===void 0)&&o.match(/^\w/))});return e.hl&&!e.hl.match(/[\w-]+/)&&(s=!1),e.sentry&&["true","false"].indexOf(e.sentry)===-1&&(s=!1),e.recaptchacompat&&["true","false"].indexOf(e.recaptchacompat)===-1&&(s=!1),s}tryLoadingJsApi(){let e=this.getJsApiConfig();this.isJsApiConfigValid(e)&&(this.loadJsApiTimeout&&clearTimeout(this.loadJsApiTimeout),this.loadJsApiTimeout=setTimeout(()=>{this.jsApiLoaded&&console.error(`${P} JS API attributes cannot change once hCaptcha JS API is loaded.`),this.jsApiLoaded=!0,X(e).then(this.onApiLoaded.bind(this)).catch(this.onError.bind(this))},1))}getAttr(e){return this.getAttribute(e)||void 0}getJsApiConfig(){return{host:this.getAttr("host"),hl:this.getAttr("hl"),sentry:this.getAttr("sentry"),recaptchacompat:this.getAttr("recaptchacompat"),jsapi:this.getAttr("jsapi")||"https://js.hcaptcha.com/1/api.js",endpoint:this.getAttr("endpoint"),reportapi:this.getAttr("reportapi"),assethost:this.getAttr("assethost"),imghost:this.getAttr("imghost")}}onApiLoaded(){if(this.$emit("loaded"),this.getAttr("auto-render")==="false")return;let e=this.getAttr("rqdata"),s=this.getAttr("tabindex"),a=this.getAttr("sitekey")||this.getAttr("site-key"),o=this.getAttr("challenge-container");if(!a)return;let r={sitekey:a,theme:this.getAttr("theme"),size:this.getAttr("size"),hl:this.getAttr("hl"),tplinks:this.getAttr("tplinks")==="off"?"off":"on",tabindex:s?parseInt(s):void 0,custom:this.getAttr("custom")==="true"};o&&(r["challenge-container"]=o),this.render(r),e&&this.setData(e)}onError(e){console.error(e),this.$emit("error",{error:e})}$emit(e,s){let a;typeof Event=="function"?a=new Event(e):(a=document.createEvent("Event"),a.initEvent(e,!1,!1)),s&&Object.assign(a,s),this.dispatchEvent(a)}render(e){if(!hcaptcha)throw new c(p.apiNotLoaded("render"));this.hcaptchaId?console.warn(`${P} hCaptcha was already rendered. You may want to call 'reset()' first.`):this.hcaptchaId=hcaptcha.render(this,Object.assign(Object.assign({},e),{callback:n(()=>{let s=hcaptcha.getResponse(this.hcaptchaId),a=hcaptcha.getRespKey(this.hcaptchaId);this.$emit("verified",{token:s,eKey:a,key:s})},"callback"),"expired-callback":n(()=>{this.$emit("expired")},"expired-callback"),"chalexpired-callback":n(()=>{this.$emit("challenge-expired")},"chalexpired-callback"),"error-callback":this.onError.bind(this),"open-callback":n(()=>{this.$emit("opened")},"open-callback"),"close-callback":n(()=>{this.$emit("closed")},"close-callback")}))}setData(e){if(!this.hcaptchaId)throw new c(p.notRendered);hcaptcha.setData(this.hcaptchaId,{rqdata:e})}execute(){if(!hcaptcha)throw new c(p.apiNotLoaded("execute"));if(!this.hcaptchaId)throw new c(p.notRendered);hcaptcha.execute(this.hcaptchaId)}executeAsync(){if(!hcaptcha)throw new c(p.apiNotLoaded("execute"));if(!this.hcaptchaId)throw new c(p.notRendered);return hcaptcha.execute(this.hcaptchaId,{async:!0})}reset(){if(!hcaptcha)throw new c(p.apiNotLoaded("reset"));if(!this.hcaptchaId)throw new c(p.notRendered);hcaptcha.reset(this.hcaptchaId)}};n(S,"o");var O=S;customElements.define("h-captcha",O);function he(){let t=h(void 0,"h-captcha",{"auto-render":"true",id:"captcha","site-key":"e2480948-c1cc-4f46-ac56-81ea236a50c8",size:"compact",tabindex:"0"}),e=h([h("Your Email","label",{for:"email",class:"home-heading"}),h(void 0,"input",{type:"email",name:"email",required:"",minlength:"10",placeholder:"Username@Website.Ext",class:"booking-email-input"}),h(void 0,"br"),h("Your Message","label",{for:"message",class:"home-heading"}),h(void 0,"textarea",{type:"email",name:"message",required:"",minlength:"14",maxlength:"2000",placeholder:"Say something!",class:"booking-message-text"}),t,h(h("SUBMIT","span"),"button",{type:"submit",class:"booking-submit",disabled:!0})],"form",{action:"/submit",method:"POST",class:"booking-form"});return t.addEventListener("verified",s=>{window.rqid=s.token,document.getElementsByClassName("booking-submit")[0].disabled=!1}),t.addEventListener("error",s=>{window.rqid=!1,document.getElementsByClassName("booking-submit")[0].disabled=!0}),e.addEventListener("submit",s=>{s.preventDefault(),window.rqid&&this.submit()}),e}n(he,"Booking");})();
