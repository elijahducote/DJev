(()=>{var F=Object.defineProperty;var o=(e,t)=>F(e,"name",{value:t,configurable:!0});var a=Object.getPrototypeOf,c,y,u,_,A={isConnected:1},K=1e3,g,C={},R=a(A),j=a(a),d,E=o((e,t,l,r)=>(e??(setTimeout(l,r),new Set)).add(t),"addAndScheduleOnFirst"),k=o((e,t,l)=>{let r=u;u=t;try{return e(l)}catch(n){return console.error(n),l}finally{u=r}},"runAndCaptureDeps"),m=o(e=>e.filter(t=>t._dom?.isConnected),"keepConnected"),L=o(e=>g=E(g,e,()=>{for(let t of g)t._bindings=m(t._bindings),t._listeners=m(t._listeners);g=d},K),"addStatesToGc"),w={get val(){return u?._getters?.add(this),this.rawVal},get oldVal(){return u?._getters?.add(this),this._oldVal},set val(e){u?._setters?.add(this),e!==this.rawVal&&(this.rawVal=e,this._bindings.length+this._listeners.length?(y?.add(this),c=E(c,this,q)):this._oldVal=e)}},M=o(e=>({__proto__:w,rawVal:e,_oldVal:e,_bindings:[],_listeners:[]}),"state"),h=o((e,t)=>{let l={_getters:new Set,_setters:new Set},r={f:e},n=_;_=[];let s=k(e,l,t);s=(s??document).nodeType?s:new Text(s);for(let i of l._getters)l._setters.has(i)||(L(i),i._bindings.push(r));for(let i of _)i._dom=s;return _=n,r._dom=s},"bind"),v=o((e,t=M(),l)=>{let r={_getters:new Set,_setters:new Set},n={f:e,s:t};n._dom=l??_?.push(n)??A,t.val=k(e,r,t.rawVal);for(let s of r._getters)r._setters.has(s)||(L(s),s._listeners.push(n));return t},"derive"),N=o((e,...t)=>{for(let l of t.flat(1/0)){let r=a(l??0),n=r===w?h(()=>l.val):r===j?h(l):l;n!=d&&e.append(n)}return e},"add"),W=o((e,t,...l)=>{let[r,...n]=a(l[0]??0)===R?l:[{},...l],s=e?document.createElementNS(e,t):document.createElement(t);for(let[i,p]of Object.entries(r)){let V=o(f=>f?Object.getOwnPropertyDescriptor(f,i)??V(a(f)):d,"getPropDescriptor"),D=t+","+i,x=C[D]??(C[D]=V(a(s))?.set??0),O=i.startsWith("on")?(f,J)=>{let P=i.slice(2);s.removeEventListener(P,J),s.addEventListener(P,f)}:x?x.bind(s):s.setAttribute.bind(s,i),b=a(p??0);i.startsWith("on")||b===j&&(p=v(p),b=w),b===w?h(()=>(O(p.val,p._oldVal),s)):O(p)}return N(s,n)},"tag"),T=o(e=>({get:o((t,l)=>W.bind(d,e,l),"get")}),"handler"),G=o((e,t)=>t?t!==e&&e.replaceWith(t):e.remove(),"update"),q=o(()=>{let e=0,t=[...c].filter(r=>r.rawVal!==r._oldVal);do{y=new Set;for(let r of new Set(t.flatMap(n=>n._listeners=m(n._listeners))))v(r.f,r.s,r._dom),r._dom=d}while(++e<100&&(t=[...y]).length);let l=[...c].filter(r=>r.rawVal!==r._oldVal);c=d;for(let r of new Set(l.flatMap(n=>n._bindings=m(n._bindings))))G(r._dom,h(r.f,r._dom)),r._dom=d;for(let r of l)r._oldVal=r.rawVal},"updateDoms"),I={tags:new Proxy(e=>new Proxy(W,T(e)),T()),hydrate:o((e,t)=>G(e,h(t,e)),"hydrate"),add:N,state:M,derive:v};function S(e,t,l){let r=[];if(l&&(r[0]=l),t||(t="span"),Array.isArray(e)){let n=e.length,s=n;for(;n;--n)r.push(e[s-n])}else r.push(e);return I.tags[t].apply(null,r)}o(S,"htm");function Z(){return S([S("Looking for a DJ?","span",{class:"home-heading"})],"div",{class:"home-about"})}o(Z,"DJSets");})();
