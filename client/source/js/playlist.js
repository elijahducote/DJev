(()=>{var L=Object.defineProperty;var s=(e,t)=>L(e,"name",{value:t,configurable:!0});var a=Object.getPrototypeOf,c,b,f,_,T={isConnected:1},F=1e3,g,O={},K=a(T),A=a(a),d,j=s((e,t,l,r)=>(e??(setTimeout(l,r),new Set)).add(t),"addAndScheduleOnFirst"),E=s((e,t,l)=>{let r=f;f=t;try{return e(l)}catch(o){return console.error(o),l}finally{f=r}},"runAndCaptureDeps"),w=s(e=>e.filter(t=>t._dom?.isConnected),"keepConnected"),M=s(e=>g=j(g,e,()=>{for(let t of g)t._bindings=w(t._bindings),t._listeners=w(t._listeners);g=d},F),"addStatesToGc"),m={get val(){return f?._getters?.add(this),this.rawVal},get oldVal(){return f?._getters?.add(this),this._oldVal},set val(e){f?._setters?.add(this),e!==this.rawVal&&(this.rawVal=e,this._bindings.length+this._listeners.length?(b?.add(this),c=j(c,this,R)):this._oldVal=e)}},N=s(e=>({__proto__:m,rawVal:e,_oldVal:e,_bindings:[],_listeners:[]}),"state"),h=s((e,t)=>{let l={_getters:new Set,_setters:new Set},r={f:e},o=_;_=[];let n=E(e,l,t);n=(n??document).nodeType?n:new Text(n);for(let i of l._getters)l._setters.has(i)||(M(i),i._bindings.push(r));for(let i of _)i._dom=n;return _=o,r._dom=n},"bind"),v=s((e,t=N(),l)=>{let r={_getters:new Set,_setters:new Set},o={f:e,s:t};o._dom=l??_?.push(o)??T,t.val=E(e,r,t.rawVal);for(let n of r._getters)r._setters.has(n)||(M(n),n._listeners.push(o));return t},"derive"),W=s((e,...t)=>{for(let l of t.flat(1/0)){let r=a(l??0),o=r===m?h(()=>l.val):r===A?h(l):l;o!=d&&e.append(o)}return e},"add"),k=s((e,t,...l)=>{let[r,...o]=a(l[0]??0)===K?l:[{},...l],n=e?document.createElementNS(e,t):document.createElement(t);for(let[i,p]of Object.entries(r)){let S=s(u=>u?Object.getOwnPropertyDescriptor(u,i)??S(a(u)):d,"getPropDescriptor"),V=t+","+i,D=O[V]??(O[V]=S(a(n))?.set??0),x=i.startsWith("on")?(u,I)=>{let P=i.slice(2);n.removeEventListener(P,I),n.addEventListener(P,u)}:D?D.bind(n):n.setAttribute.bind(n,i),y=a(p??0);i.startsWith("on")||y===A&&(p=v(p),y=m),y===m?h(()=>(x(p.val,p._oldVal),n)):x(p)}return W(n,o)},"tag"),C=s(e=>({get:s((t,l)=>k.bind(d,e,l),"get")}),"handler"),G=s((e,t)=>t?t!==e&&e.replaceWith(t):e.remove(),"update"),R=s(()=>{let e=0,t=[...c].filter(r=>r.rawVal!==r._oldVal);do{b=new Set;for(let r of new Set(t.flatMap(o=>o._listeners=w(o._listeners))))v(r.f,r.s,r._dom),r._dom=d}while(++e<100&&(t=[...b]).length);let l=[...c].filter(r=>r.rawVal!==r._oldVal);c=d;for(let r of new Set(l.flatMap(o=>o._bindings=w(o._bindings))))G(r._dom,h(r.f,r._dom)),r._dom=d;for(let r of l)r._oldVal=r.rawVal},"updateDoms"),q={tags:new Proxy(e=>new Proxy(k,C(e)),C()),hydrate:s((e,t)=>G(e,h(t,e)),"hydrate"),add:W,state:N,derive:v};function Z(){}s(Z,"Playlists");})();
